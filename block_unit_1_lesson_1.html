<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lesson 1: What Are Blocks?</title>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      font-family: 'Fredoka', cursive, sans-serif;
      background-color: #f0f8ff;
      color: #003366;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    nav {
      background-color: #0077cc;
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      border-bottom: 4px solid #005fa3;
      user-select: none;
    }
    nav a {
      color: white;
      text-decoration: none;
      font-size: 1.2rem;
      margin-left: 1.5rem;
      font-weight: 700;
      transition: transform 0.2s ease;
    }
    nav a:hover {
      transform: scale(1.1);
    }
    nav .logo {
      font-weight: 900;
      font-size: 1.5rem;
    }

    main {
      flex-grow: 1;
      max-width: 720px;
      margin: 2rem auto;
      background: white;
      border-radius: 20px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      padding: 2rem 3rem;
      user-select: none;
    }

    h1 {
      color: #0077cc;
      font-size: 2rem;
      margin-bottom: 1rem;
      text-align: center;
    }

    /* Slide container */
    .slide {
      display: none;
      font-size: 1.2rem;
      line-height: 1.5;
      text-align: center;
    }
    .slide.active {
      display: block;
    }

    /* Navigation buttons */
    .nav-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 2rem;
    }
    button {
      background-color: #0077cc;
      color: white;
      border: none;
      border-radius: 25px;
      padding: 0.7rem 1.8rem;
      font-size: 1rem;
      cursor: pointer;
      font-weight: 700;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    button:disabled {
      background-color: #cccccc;
      cursor: not-allowed;
    }
    button:hover:not(:disabled) {
      background-color: #005fa3;
    }

    /* Quiz styles */
    .quiz-question {
      margin-top: 1.5rem;
      text-align: left;
    }
    .quiz-question h3 {
      font-weight: 700;
      margin-bottom: 0.5rem;
    }
    .quiz-options {
      list-style: none;
      padding: 0;
      margin: 0 0 1rem 0;
    }
    .quiz-options li {
      margin-bottom: 0.7rem;
    }
    .quiz-options label {
      cursor: pointer;
      user-select: none;
    }
    input[type="radio"] {
      margin-right: 10px;
    }

    .feedback {
      font-weight: 700;
      margin-bottom: 1rem;
    }
    .feedback.correct {
      color: green;
    }
    .feedback.incorrect {
      color: red;
    }

    /* Completion message */
    #completion-msg {
      margin-top: 2rem;
      font-size: 1.3rem;
      color: green;
      font-weight: 700;
      text-align: center;
      display: none;
    }

  </style>
</head>
<body>

  <nav>
    <div class="logo">üêæ KidzCanCode</div>
    <div>
      <a href="dashboard.html">üè† Dashboard</a>
      <a href="lessons.html">üìö Lessons</a>
      <a href="block.html">üß± BBB Units</a>
    </div>
  </nav>

  <main>
    <h1>Lesson 1: What Are Blocks? üß©</h1>

    <!-- Slides -->
    <div class="slide active" id="slide1">
      <p>Blocks are the building pieces of coding ‚Äî like colorful puzzle pieces that snap together to tell the computer what to do! üß±‚ú®</p>
    </div>
    <div class="slide" id="slide2">
      <p>Think of blocks like LEGO bricks. Each block represents a command, like ‚Äúmove,‚Äù ‚Äúsay hello,‚Äù or ‚Äúplay a sound.‚Äù You drag & drop them to build your own programs! üöÄ</p>
    </div>
    <div class="slide" id="slide3">
      <p>By snapping blocks together, you can make sprites move, change colors, or interact ‚Äî all without writing tricky code! üòÑüé®</p>
    </div>
    <div class="slide" id="slide4">
      <p>There are different types of blocks: motion blocks, looks blocks, sound blocks, and more. Each helps you create cool actions for your program. üïπÔ∏èüéµ</p>
    </div>
    <div class="slide" id="slide5">
      <p>We use blocks in platforms like Scratch and Blockly to make coding fun and easy for everyone. Ready to start building? Let's go! üéâ</p>
    </div>

    <!-- Quiz slide -->
    <div class="slide" id="quiz-slide">
      <h2>Quiz Time! üéì</h2>

      <div class="quiz-question" data-correct="a">
        <h3>1. What are blocks in coding?</h3>
        <ul class="quiz-options">
          <li><label><input type="radio" name="q1" value="a" /> Pieces of code you snap together</label></li>
          <li><label><input type="radio" name="q1" value="b" /> Physical toys</label></li>
          <li><label><input type="radio" name="q1" value="c" /> Computer viruses</label></li>
        </ul>
        <div class="feedback" id="feedback-q1"></div>
      </div>

      <div class="quiz-question" data-correct="b">
        <h3>2. Blocks are like...</h3>
        <ul class="quiz-options">
          <li><label><input type="radio" name="q2" value="a" /> Books</label></li>
          <li><label><input type="radio" name="q2" value="b" /> LEGO bricks</label></li>
          <li><label><input type="radio" name="q2" value="c" /> Paintbrushes</label></li>
        </ul>
        <div class="feedback" id="feedback-q2"></div>
      </div>

      <div class="quiz-question" data-correct="a">
        <h3>3. You build programs by...</h3>
        <ul class="quiz-options">
          <li><label><input type="radio" name="q3" value="a" /> snapping blocks together</label></li>
          <li><label><input type="radio" name="q3" value="b" /> typing long code only</label></li>
          <li><label><input type="radio" name="q3" value="c" /> watching TV</label></li>
        </ul>
        <div class="feedback" id="feedback-q3"></div>
      </div>

      <button id="submit-quiz" disabled>Submit Answers ‚úÖ</button>
      <div id="quiz-result"></div>
    </div>

    <!-- Completion message and button -->
    <div id="completion-msg">
      üéâ Great job! You passed the quiz.<br />
      <button id="complete-btn">Mark Lesson Complete & Return to Unit</button>
    </div>

    <!-- Navigation Buttons -->
    <div class="nav-buttons">
      <button id="prev-btn" disabled>‚¨ÖÔ∏è Previous</button>
      <button id="next-btn">Next ‚û°Ô∏è</button>
    </div>
  </main>

<script>
  const slides = document.querySelectorAll('.slide');
  const prevBtn = document.getElementById('prev-btn');
  const nextBtn = document.getElementById('next-btn');
  const submitQuizBtn = document.getElementById('submit-quiz');
  const quizResultDiv = document.getElementById('quiz-result');
  const completionMsg = document.getElementById('completion-msg');
  const completeBtn = document.getElementById('complete-btn');

  let currentSlide = 0;

  function showSlide(index) {
    slides.forEach((slide, i) => {
      slide.classList.toggle('active', i === index);
    });

    // Disable prev button on first slide
    prevBtn.disabled = (index === 0);

    // On quiz slide, disable next button (user must submit quiz)
    if (slides[index].id === 'quiz-slide') {
      nextBtn.disabled = true;
      submitQuizBtn.disabled = false;
    } else {
      nextBtn.disabled = (index === slides.length - 1);
      submitQuizBtn.disabled = true;
      quizResultDiv.textContent = '';
    }

    // Hide completion message except after quiz passed
    completionMsg.style.display = 'none';
  }

  prevBtn.addEventListener('click', () => {
    if (currentSlide > 0) {
      currentSlide--;
      showSlide(currentSlide);
    }
  });

  nextBtn.addEventListener('click', () => {
    if (currentSlide < slides.length - 1) {
      currentSlide++;
      showSlide(currentSlide);
    }
  });

  // Enable submit button only if all questions answered
  const quizQuestions = document.querySelectorAll('.quiz-question');
  quizQuestions.forEach(q => {
    q.querySelectorAll('input[type="radio"]').forEach(radio => {
      radio.addEventListener('change', () => {
        let allAnswered = [...quizQuestions].every(q => {
          return q.querySelector('input[type="radio"]:checked');
        });
        submitQuizBtn.disabled = !allAnswered;
        quizResultDiv.textContent = '';
        quizQuestions.forEach(q => {
          const feedback = q.querySelector('.feedback');
          feedback.textContent = '';
          feedback.className = 'feedback';
        });
      });
    });
  });

  submitQuizBtn.addEventListener('click', () => {
    let score = 0;
    quizQuestions.forEach((q, i) => {
      const correct = q.dataset.correct;
      const checked = q.querySelector('input[type="radio"]:checked').value;
      const feedback = q.querySelector('.feedback');
      if (checked === correct) {
        score++;
        feedback.textContent = '‚úÖ Correct!';
        feedback.classList.add('correct');
      } else {
        feedback.textContent = '‚ùå Try again!';
        feedback.classList.add('incorrect');
      }
    });
    quizResultDiv.textContent = `You got ${score} out of ${quizQuestions.length} correct.`;
    if (score === quizQuestions.length) {
      submitQuizBtn.style.display = 'none';
      nextBtn.disabled = true;
      completionMsg.style.display = 'block';
    }
  });

  completeBtn.addEventListener('click', () => {
    // Mark lesson 1 complete in localStorage
    let progress = JSON.parse(localStorage.getItem('blockUnit1Progress')) || [];
    if (!progress.includes(1)) {
      progress.push(1);
      localStorage.setItem('blockUnit1Progress', JSON.stringify(progress));
    }
    // Redirect back to unit page
    window.location.href = 'block_unit_1.html';
  });

  showSlide(currentSlide);
</script>

</body>
</html>
